{% extends "layouts/layout-dashboard.twig" %}
            {% set page_group = "dashboard" %}

            {% block page %}   
                {% set page = page | merge({
                    "title"       : "Account Groups",
                    "description" : "A list of the groups to which you belong."
                }) %}
                {{ parent() }}
            {% endblock %}

            {% block page_scripts%}
	    	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js">
		</script>
		
		<script src="https://apis.google.com/js/client:platform.js?onload=start" async defer>
		</script>
		
		<script>
			function start() {
				gapi.load('auth2', function() {
					auth2 = gapi.auth2.init({
						client_id: 'ENTER', 
						scope: 'GMAIL'
					});
				});
			}
		</script>

		<script>
			$('#signinButton').click(function() {
			auth2.grantOfflineAccess({'redirect_uri' : 'postmessage'}).then(signInCallback);
			});
		</script>

		<script>
		function signInCallback(authResult) {
			if(authResult['code']) {
				$('#signinButton').attr('style', 'display: none');
				$.ajax({
					type: 'POST',
					url: 'http://example.com/storeauthcode',
					contentType: 'application/octet-stream; charset=urf-8',
					success: function(result) {
					},
					processData: false,
					data: authResult['code']
				});
			} else {
				//error
			}
		}
		</script>
	    {% endblock %}

	    {% block content %}
              
		<button id="authorize-button" onclick="handleAuthClick(event)">Authorize</button>
    		
            {% endblock %}
